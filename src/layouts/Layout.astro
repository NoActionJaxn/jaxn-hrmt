---
import PageContent from "../components/PageContent.astro";
import PageFooter from "../components/PageFooter.astro";
import PageFrame from "../components/PageFrame.astro";
import PageHeader from "../components/PageHeader.astro";
import "../styles/global.css";
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro Basics</title>
	</head>
	<body>
		<PageFrame />
		<PageHeader />
		<PageContent>
				<slot />
		</PageContent>
		<PageFooter />
		<script>
			const observer = new IntersectionObserver(
				(entries) => {
					entries.forEach((entry) => {
						if (entry.isIntersecting) {
							entry.target.classList.add("opacity-100");
							entry.target.classList.remove("opacity-0");
						} else {
							entry.target.classList.add("opacity-0");
							entry.target.classList.remove("opacity-100");
						}
					});
				},
				{ threshold: 0.6 } // frame is active if 60% visible
			);

			document.querySelectorAll("[data-frame]").forEach((el) =>
				observer.observe(el)
			);
		</script>
	</body>
</html>
