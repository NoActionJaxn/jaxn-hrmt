---
import Layout from "../../layouts/Layout.astro";
import LayoutFrame from "../../layouts/LayoutFrame.astro";
import BlogPostCard from "../../components/blog/BlogPostCard.astro";
import { fetchBlogPostsPaginated } from "../../lib/requests";
import BlogFilters from "../../components/blog/BlogFilters.astro";

const blogPosts = await fetchBlogPostsPaginated({});
---

<Layout>
  <LayoutFrame>
    <div class="flex flex-col h-full w-full gap-10">
      <BlogFilters />
      <div
        class="grow columns-xs pb-5 gap-14 space-y-10 w-full h-full overflow-x-auto"
      >
        {
          blogPosts.data.map((post) => (
            <BlogPostCard blogPost={post} className="break-inside-avoid" />
          ))
        }
      </div>
    </div>
  </LayoutFrame>
</Layout>
