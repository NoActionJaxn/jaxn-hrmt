---
import Layout from '../../layouts/Layout.astro';
import LayoutFrame from '../../layouts/LayoutFrame.astro';
import BlogPostCard from '../../components/BlogPostCard.astro';
import { fetchAllBlogPosts } from '../../lib/requests';

const blogPosts = await fetchAllBlogPosts();
---

<Layout>
  <LayoutFrame>
    <div 
    class="columns-1 sm:columns-1 md:columns-2 lg:columns-3 xl:columns-4 2xl:columns-5 3xl:col-end-6 space-y-4 w-full h-full"> 
      {blogPosts.data.map(post => (
        <BlogPostCard blogPost={post} className="break-inside-avoid" />
      ))}
    </div>
  </LayoutFrame>
</Layout>
